(this.webpackJsonpwordle=this.webpackJsonpwordle||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),r=n(10),a=n.n(r),s=(n(16),n(11)),u=n(2),i=n(8),l=n.n(i),d=n(6),f=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Object(c.useState)(t),o=Object(u.a)(n,2),r=o[0],a=o[1],s=function(e){a([].concat(Object(d.a)(r),[e]))},i=function(e){a(r.filter((function(t,n){return n!==e})))},l=function(e,t){e<0||e>=r.length||a((function(n){return[].concat(Object(d.a)(n.slice(0,e)),[t],Object(d.a)(n.slice(e+1,n.length)))}))},f=function(){return 0===r.length},h=function(){return a([])};return{data:r,setData:a,useArray:e,push:s,remove:i,update:l,reset:h,isEmpty:f}},h=n(5),b=n(9),j=function(){for(var e={},t="a".charCodeAt(0),n=t;n<t+26;n++)e[String.fromCharCode(n)]="init";return e},v=function(){var e=Object(c.useState)(j()),t=Object(u.a)(e,2),n=t[0],o=t[1],r=function(e,t){n[e]!==t&&o((function(n){return Object(b.a)(Object(b.a)({},n),{},Object(h.a)({},e,t))}))};return{alphabet:n,updateNever:function(e){void 0!==(null===n||void 0===n?void 0:n[e])&&"never"!==(null===n||void 0===n?void 0:n[e])&&"almost"!==(null===n||void 0===n?void 0:n[e])&&"success"!==(null===n||void 0===n?void 0:n[e])&&r(e,"never")},updateAlmost:function(e){void 0!==(null===n||void 0===n?void 0:n[e])&&"almost"!==(null===n||void 0===n?void 0:n[e])&&"success"!==(null===n||void 0===n?void 0:n[e])&&r(e,"almost")},updateSuccess:function(e){void 0!==(null===n||void 0===n?void 0:n[e])&&"success"!==(null===n||void 0===n?void 0:n[e])&&r(e,"success")},reset:function(){o(j())}}},p=function(e,t){Object(c.useEffect)((function(){console.log(e,t)}),[e,t])},g=function(){for(var e=[],t=0;t<6;t++){e.push([]);for(var n=0;n<5;n++)e[t].push({ch:"_",color:"init"})}return e},O=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},m=function(){var e=Object(c.useState)(0),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(0),a=Object(u.a)(r,2),i=a[0],d=a[1],h=Object(c.useState)(""),b=Object(u.a)(h,2),j=b[0],m=b[1],w=v(),x=f(g()),y=Object(c.useState)("ongoing"),S=Object(u.a)(y,2),k=S[0],C=S[1],L=Object(c.useRef)([]),E=Object(c.useRef)(new Set);p("Log: history: ",x.data),p("Log: alphabet: ",w.alphabet),Object(c.useEffect)((function(){var e=function(e){return fetch("".concat("/Wordle-TypeScript","/").concat(e)).then((function(e){return e.text()})).then((function(e){return e.split(/\r?\n/)}))},t=function(){var t=Object(s.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("answers.txt");case 2:return n=t.sent,t.next=5,e("words.txt");case 5:c=t.sent,L.current=n,E.current=new Set(c.concat(n));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().then((function(){var e=O(0,L.current.length);m(L.current[e])}))}),[]);var F=function(e){for(var t=[],n=new Set(j),c=0;c<e.length;c++){var o=e[c];o===j[c]?(t.push({ch:o,color:"success"}),w.updateSuccess(o)):n.has(o)?(t.push({ch:o,color:"almost"}),w.updateAlmost(o)):(t.push({ch:o,color:"never"}),w.updateNever(o))}return t};return{row:n,wordle:j,history:x,alphabet:w,status:k,newGame:function(){console.log("Log: started new game");var e=O(0,L.current.length);m(L.current[e]),d(0),o(0),x.setData(g()),w.reset(),C("ongoing")},submitGuess:function(){if("ongoing"===k){var e=x.data[n].map((function(e){return e.ch})).join("");E.current.has(e)&&(x.update(n,F(e)),o(n+1),d(0),e===j?C("win"):n+1===6&&C("lose"))}},handleBackspace:function(){if("ongoing"===k&&0!==i){var e=x.data[n].slice();e[i-1]={ch:"_",color:"init"},x.update(n,e),d(i-1)}},handleChar:function(e){if(!("ongoing"!==k||i>=5)){var t=x.data[n].slice();t[i]={ch:e,color:"init"},x.update(n,t),d(i+1)}}}},w=n(0),x={init:"black",success:"green",almost:"orange",never:"grey"},y=function(e,t){return e.pair.ch===t.pair.ch&&e.pair.color===t.pair.color},S=function(e){var t=e.pair;return Object(w.jsx)("span",{style:{color:x[t.color]},children:t.ch})},k=o.a.memo(S,y),C=function(e){var t=e.guesses,n=e.row;return console.log("Log: render guesses"),Object(w.jsx)(w.Fragment,{children:t.map((function(e,t){return Object(w.jsxs)("div",{children:["guess #".concat(t+1,": "),e.map((function(e,t){return Object(w.jsx)(k,{pair:e},"".concat(e.ch).concat(t))})),t===n&&Object(w.jsx)("span",{children:" << "})]},t)}))})},L=o.a.memo(C),E=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["z","x","c","v","b","n","m"]],F=function(e){var t=e.alphabet;return console.log("Log: render keyboard"),Object(w.jsx)(w.Fragment,{children:E.map((function(e,n){return Object(w.jsx)("div",{children:e.map((function(e){return Object(w.jsx)(k,{pair:{ch:e.toUpperCase(),color:t[e]}},e)}))},n)}))})},B=o.a.memo(F),A=new Set(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),G=function(){var e=m(),t=e.row,n=e.wordle,o=e.history,r=e.alphabet,a=e.status,s=e.newGame,u=e.submitGuess,i=e.handleBackspace,l=e.handleChar,d=function(e){"Enter"===e.code?u():"Backspace"===e.code?i():A.has(e.key.toLowerCase())?l(e.key.toLowerCase()):"Space"===e.code&&s()};return Object(c.useEffect)((function(){return window.addEventListener("keydown",d),function(){window.removeEventListener("keydown",d)}}),[d]),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:Object(w.jsx)("strong",{children:" WIP \ud83d\ude02 "})}),"status: ".concat(a),Object(w.jsx)("br",{}),"guesses: ".concat(t),Object(w.jsx)("br",{}),"wordle: ".concat(n),Object(w.jsx)("br",{}),Object(w.jsx)("button",{onClick:s,children:" restart "}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)(L,{guesses:o.data,row:t}),Object(w.jsx)("br",{}),Object(w.jsx)(B,{alphabet:r.alphabet})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))};console.log("Log: no logs in production"),console.log=function(){},console.error=function(){},console.debug=function(){},a.a.render(Object(w.jsx)(o.a.StrictMode,{children:Object(w.jsx)(G,{})}),document.getElementById("root")),D()}},[[19,1,2]]]);
//# sourceMappingURL=main.d09f9cca.chunk.js.map