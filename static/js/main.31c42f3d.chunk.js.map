{"version":3,"sources":["hooks/useArray.tsx","hooks/useAlphabet.tsx","hooks/useGame.tsx","hooks/useLog.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["useArray","initial","useState","data","setData","push","element","remove","index","filter","_","i","isEmpty","length","useAlphabet","alphabet","start","charCodeAt","String","fromCharCode","initializeAlphabet","setAlphabet","update","ch","status","prevState","updateNever","undefined","updateAlmost","updateSuccess","useGame","name","guesses","setGuesses","wordle","setWordle","history","setStatus","answers","useRef","words","Set","useEffect","console","log","parseTextFile","filename","fetch","process","then","res","text","split","fetchWords","a","answersArr","wordsArr","current","concat","newGame","end","Math","floor","random","updateCharColors","guess","wordColors","wordleSet","color","has","guessWord","word","statusColor","success","almost","never","App","input","setInput","game","onClick","onSubmit","e","preventDefault","handleSubmit","onChange","target","value","map","pair","style","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.31c42f3d.chunk.js","sourcesContent":["import { useState } from 'react';\n\n// Purpose of this hook is to mimic normal arrays, this allows us to 'mutate' our state which we otherwise wouldn't be able to in React\nexport const useArray = <T extends any>(initial: T[] = []) => {\n  const [data, setData] = useState(initial)\n  \n  // Can push to the data like normally when not using React\n  const push = (element: T) => {\n    setData([...data, element])\n  };\n\n  // Can remove from index of the data like normally when not using React\n  const remove = (index: number) => {\n    setData(data.filter((_, i) => i !== index))\n  };\n\n  const isEmpty = (): boolean => data.length === 0;\n\n  return { data, useArray, push, remove, isEmpty } as const\n}","import { useState } from 'react';\nimport { useLog } from './useLog';\n\ninterface Alphabet {\n  [key: string]: string\n}\n\nconst initializeAlphabet = (): Alphabet => {\n  let alphabet: Alphabet = {}\n  const start = 'a'.charCodeAt(0)\n  for(let i = start; i < start + 26; i ++) {\n    alphabet[String.fromCharCode(i)] = 'init'\n  }\n  return alphabet\n}\n\nexport const useAlphabet = () => {\n  const [alphabet, setAlphabet] = useState<Alphabet>(initializeAlphabet())\n  \n  // Helper function to use 'setAlphabet' to prevent DRY\n  const update = (ch: string, status: string): void => {\n    setAlphabet((prevState: Alphabet) => ({...prevState, [ch]: status}))\n  }\n\n  // Updates a character to 'never'\n  const updateNever = (ch: string): void => {\n    if(alphabet?.[ch] === undefined || alphabet?.[ch] === 'never' || alphabet?.[ch] === 'almost' || alphabet?.[ch] === 'success') return\n    update(ch, 'never')\n  }\n\n  // Updates a character to 'almost'\n  const updateAlmost = (ch: string): void => {\n    if(alphabet?.[ch] === undefined || alphabet?.[ch] === 'almost' || alphabet?.[ch] === 'success') return\n    update(ch, 'almost')\n\n  }\n\n  // Updates a character to 'success'\n  const updateSuccess = (ch: string): void => {\n    if(alphabet?.[ch] === undefined || alphabet?.[ch] === 'success') return\n    update(ch, 'success')\n\n  }\n\n  return { alphabet, updateNever, updateAlmost, updateSuccess } as const\n}","import { useState, useEffect, useRef } from 'react';\nimport { useArray } from './useArray';\nimport { useAlphabet } from './useAlphabet';\nimport { useLog } from './useLog';\n\n// Returns random integer from [a, b]\nconst randomInt = (start: number, end: number): number => {\n  return start + Math.floor(Math.random() * (end - start + 1))\n}\n\ninterface CharColor {\n  ch: string\n  color: string\n}\n\nexport const useGame = () => {\n  const [guesses, setGuesses] = useState<number>(6)\n  const [wordle, setWordle] = useState<string>('')\n  const alphabet = useAlphabet()\n  const history = useArray<CharColor[]>([])\n  const [status, setStatus] = useState<string>('ongoing')\n  const answers = useRef<string[]>([])\n  const words = useRef<Set<string>>(new Set())\n\n  useLog('history: ', history.data)\n\n  useEffect(() => {\n    // Function to read my text file from the 'public' folder\n    const parseTextFile = (filename: string): Promise<string[]> => {\n      return fetch(`${process.env.PUBLIC_URL}/${filename}`)\n      .then((res) => res.text())\n      .then((text) => {\n        return text.split('\\n')\n      })\n    }\n\n    // Parse 2 textfiles for possible answers + possible word guesses\n    const fetchWords = async (): Promise<void> => {\n      const answersArr = await parseTextFile('answers.txt')\n      const wordsArr = await parseTextFile('words.txt')\n      answers.current = answersArr\n      words.current = new Set(wordsArr.concat(answersArr))\n      newGame()\n    }\n\n    fetchWords()\n  }, [])\n  \n  const newGame = (): void => {\n    console.log(\"New game\")\n    setGuesses(6) // Reset guesses to 6\n    const index = randomInt(0, answers.current.length)  // Get a random index\n    setWordle(answers.current[index]) // Pick a random wordle\n  }\n\n  const guessWord = (word: string): void => {\n    if(!words.current.has(word) || status !== 'ongoing')\n      return\n    history.push(updateCharColors(word))  // Update alphabet highlights + push guess word to history with color highlights\n    setGuesses(guesses - 1) // Decrement guess count\n    if(word === wordle) // Check if game is over\n      setStatus('win')\n    else if(guesses-1 === 0)\n      setStatus('lose')\n  }\n\n  // Input is the current guess\n  // Will update the alphabet with green/yellow/black colors and display the new word after\n  const updateCharColors = (guess: string): CharColor[] => {\n    let wordColors: CharColor[] = []\n    let wordleSet = new Set(wordle)\n\n    // Iterate through each character of the guess word\n    for(let i = 0; i < guess.length; i ++) {\n      const ch: string = guess[i]\n      if(ch === wordle[i]) {  // Character at index i of guess is same as character of wordle\n        wordColors.push( { ch: ch, color: 'success' } )\n        alphabet.updateSuccess(ch)\n      }\n      else if(wordleSet.has(ch)) {  // Otherwise, check if guess char is a char in the wordle\n        wordColors.push( { ch: ch, color: 'almost' } )\n        alphabet.updateAlmost(ch)\n      }\n      else {  // Otherwise, mark the character as 'never' possible\n        wordColors.push( { ch: ch, color: 'never' } )\n        alphabet.updateNever(ch)\n      }\n    }\n    return wordColors\n  }\n\n  return { guesses, wordle, history, alphabet, status, newGame, guessWord } as const\n}","import { useEffect } from 'react';\n\nexport const useLog = <T extends any>(name: string, data: T) => {\n  useEffect(() => {\n    console.log(name, data)\n  }, [name, data])\n}","import React, { useState, FC } from 'react';\nimport { useGame } from './hooks/useGame'\n\nconst statusColor: Record<string, string> = {\n  success: 'green',\n  almost: 'orange',\n  never: 'black'\n}\n\nconst App:FC = () => {\n  const [input, setInput] = useState<string>('')\n  const game = useGame()\n\n  const handleSubmit = (e: React.FormEvent): void => {\n    e.preventDefault()\n    game.guessWord(input)\n    setInput('')\n  }\n\n  return(\n    <div> \n      {game.status}\n      <br/>\n      {game.guesses}\n      <br/>\n      {game.wordle} \n      <br/>\n      <button onClick={game.newGame}> restart </button>\n      <br/>\n      <form onSubmit={(e) => handleSubmit(e)}>\n        <input onChange={(e) => setInput(e.target.value)} value={input}/>\n        <button> guess </button>\n      </form>\n      {\n        game.history.data.map((guess, index) => \n          <div key={index} >\n            {\n              guess.map((pair, index) => <span style={{ color: statusColor[pair.color] }} key={`${pair.ch}${index}`}>{pair.ch}</span>)\n            }\n          </div>\n        )\n      }\n    </div>\n  ) \n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}