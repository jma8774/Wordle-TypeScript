(this.webpackJsonpwordle=this.webpackJsonpwordle||[]).push([[0],{16:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),o=n(9),u=n.n(o),s=(n(16),n(10)),a=n(2),i=n(7),l=n.n(i),d=n(11),f=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Object(c.useState)(e),r=Object(a.a)(n,2),o=r[0],u=r[1],s=function(t){u([].concat(Object(d.a)(o),[t]))},i=function(t){u(o.filter((function(e,n){return n!==t})))},l=function(){return 0===o.length},f=function(){return u([])};return{data:o,useArray:t,push:s,remove:i,reset:f,isEmpty:l}},b=n(5),v=n(8),j=function(t,e){Object(c.useEffect)((function(){console.log(t,e)}),[t,e])},h=function(){for(var t={},e="a".charCodeAt(0),n=e;n<e+26;n++)t[String.fromCharCode(n)]="init";return t},p=function(t,e){return t+Math.floor(Math.random()*(e-t+1))},O=function(){console.log("render useGame");var t=Object(c.useState)(6),e=Object(a.a)(t,2),n=e[0],r=e[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),i=u[0],d=u[1],O=function(){var t=Object(c.useState)(h()),e=Object(a.a)(t,2),n=e[0],r=e[1];j("alphabet: ",n);var o=function(t,e){r((function(n){return Object(v.a)(Object(v.a)({},n),{},Object(b.a)({},t,e))}))};return{alphabet:n,updateNever:function(t){void 0!==(null===n||void 0===n?void 0:n[t])&&"never"!==(null===n||void 0===n?void 0:n[t])&&"almost"!==(null===n||void 0===n?void 0:n[t])&&"success"!==(null===n||void 0===n?void 0:n[t])&&o(t,"never")},updateAlmost:function(t){void 0!==(null===n||void 0===n?void 0:n[t])&&"almost"!==(null===n||void 0===n?void 0:n[t])&&"success"!==(null===n||void 0===n?void 0:n[t])&&o(t,"almost")},updateSuccess:function(t){void 0!==(null===n||void 0===n?void 0:n[t])&&"success"!==(null===n||void 0===n?void 0:n[t])&&o(t,"success")},reset:function(){r(h())}}}(),g=f([]),m=Object(c.useState)("ongoing"),x=Object(a.a)(m,2),w=x[0],S=x[1],y=Object(c.useRef)([]),C=Object(c.useRef)(new Set);j("history: ",g.data),Object(c.useEffect)((function(){var t=function(t){return fetch("".concat("/wordle-ts","/").concat(t)).then((function(t){return t.text()})).then((function(t){return t.split("\n")}))},e=function(){var e=Object(s.a)(l.a.mark((function e(){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("answers.txt");case 2:return n=e.sent,e.next=5,t("words.txt");case 5:c=e.sent,y.current=n,C.current=new Set(c.concat(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(){var t=p(0,y.current.length);d(y.current[t])}))}),[]);var k=function(t){for(var e=[],n=new Set(i),c=0;c<t.length;c++){var r=t[c];r===i[c]?(e.push({ch:r,color:"success"}),O.updateSuccess(r)):n.has(r)?(e.push({ch:r,color:"almost"}),O.updateAlmost(r)):(e.push({ch:r,color:"never"}),O.updateNever(r))}return e};return{guesses:n,wordle:i,history:g,alphabet:O,status:w,newGame:function(){console.log("started new game"),r(6);var t=p(0,y.current.length);d(y.current[t]),g.reset(),O.reset(),S("ongoing")},guessWord:function(t){C.current.has(t)&&"ongoing"===w&&(g.push(k(t)),r(n-1),t===i?S("win"):n-1===0&&S("lose"))}}},g=n(1),m={success:"green",almost:"orange",never:"black"},x=r.a.memo((function(t){var e=t.pair;return Object(g.jsx)("span",{style:{color:m[e.color]},children:e.ch})})),w=r.a.memo((function(t){var e=t.handleSubmit,n=Object(c.useState)(""),r=Object(a.a)(n,2),o=r[0],u=r[1];return Object(g.jsxs)("form",{onSubmit:function(t){e(t,o)},children:[Object(g.jsx)("input",{onChange:function(t){return u(t.target.value)},value:o}),Object(g.jsx)("button",{children:" guess "})]})})),S=function(){console.log("render app");var t=O(),e=t.guesses,n=t.wordle,c=t.history,r=(t.alphabet,t.status),o=t.newGame,u=t.guessWord;return Object(g.jsxs)("div",{children:["status: ".concat(r),Object(g.jsx)("br",{}),"guesses left: ".concat(e),Object(g.jsx)("br",{}),"wordle: ".concat(n),Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:o,children:" testing "}),Object(g.jsx)("br",{}),Object(g.jsx)(w,{handleSubmit:function(t,e){t.preventDefault(),u(e)}}),c.data.map((function(t,e){return Object(g.jsxs)("div",{children:["guess #".concat(e+1,": "),t.map((function(t,e){return Object(g.jsx)(x,{pair:t},"".concat(t.ch).concat(e))}))]},e)}))]})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,u=e.getTTFB;n(t),c(t),r(t),o(t),u(t)}))};u.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(S,{})}),document.getElementById("root")),y()}},[[19,1,2]]]);
//# sourceMappingURL=main.1c723bfa.chunk.js.map